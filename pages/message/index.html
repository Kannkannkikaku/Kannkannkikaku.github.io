<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="../../images/kann-favicon.png">
    <link rel="stylesheet" href="../../css/common.css">
    <link rel="stylesheet" href="../../css/responsive.css">
    <link rel="stylesheet" href="../../css/animation.css">
    <link rel="stylesheet" href="../../css/message.css">
    
    

    <script src="../../js/toggleMenu.js"></script>
    <script src="../../js/animation.js"></script>
    <script src="../../js/imageModal.js"></script>
    <!-- ãƒšãƒ¼ã‚¸ãƒ•ãƒªãƒƒãƒ—ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ -->
    <script type="text/javascript" src="../../js/extras/jquery.min.1.7.js"></script>
    <script type="text/javascript" src="../../js/extras/modernizr.2.5.3.min.js"></script>
    
</head>
<body class="page-sub">
    <button class="menu-btn" onclick="toggleMenu()">
        <img src="../../images/menu.png" alt="ãƒ¡ãƒ‹ãƒ¥ãƒ¼">
    </button>
    <!--headerã“ã“ã‹ã‚‰-->
    <header>
        <div class="header">
            <div class="header-title">
                <a href="../../index.html" class="logo">Kannkannä¼ç”»</a>
                <span class="current-page">ï¼ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</span>
            </div>
        </div>
        <nav id="menu" class="side-menu">
            <a href="../message/"><img src="../../images/message.png" alt="ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§</a>
            <a href="../illust/"><img src="../../images/illust.png" alt="ã‚¤ãƒ©ã‚¹ãƒˆ">ã‚¤ãƒ©ã‚¹ãƒˆ</a>
            <a href="../information/"><img src="../../images/information.png" alt="ã‚¤ãƒ³ãƒ•ã‚©">ã‚¤ãƒ³ãƒ•ã‚©ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</a>
            <a href="../../index.html"><img src="../../images/home.png" alt="ãƒˆãƒƒãƒ—">ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸</a>
        </nav>
        <div id="overlay" class="overlay" onclick="closeMenu()"></div>
    </header>
    <!--headerã“ã“ã¾ã§-->
    <div id="page-content">
        <!--mainã“ã“ã‹ã‚‰-->
        <main>
            <div class="container">
                <h2>ğŸ“¨ ãƒ•ã‚¡ãƒ³ã®çš†æ§˜ã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</h2>
            </div>
            
            <div class = "letterBook-viewport">
                <div class = "container">
                    <div class ="letterBook">
                        <div style = "background-image: url(../../messages/æ¥½è­œ.jpg);"></div>
                        <div style = "background-image: url(../../messages/æ¥½è­œ.jpg);"></div>
                        <div style = "background-image: url(../../messages/æ¥½è­œ.jpg);"></div>
                        <div style = "background-image: url(../../messages/æ¥½è­œ.jpg);"></div>
                    </div>
                </div>
            </div>

            <script type="text/javascript">

            function calculateBookSize() {
                const viewportWidth = $(window).width();
                
                // 70vw ã‚’ãƒ”ã‚¯ã‚»ãƒ«ã«å¤‰æ›
                const newWidth = Math.round(viewportWidth * 0.70);
                
                // 922/600 = 1.536 ã®ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã‚’ç¶­æŒã—ã¦é«˜ã•ã‚’è¨ˆç®—
                const newHeight = Math.round(newWidth / 1.536);
                
                return { width: newWidth, height: newHeight };
            }

            function loadApp() {
                // åˆå›ãƒ­ãƒ¼ãƒ‰æ™‚ã«ã‚µã‚¤ã‚ºã‚’è¨ˆç®—
                const initialSize = calculateBookSize();

                // 1. turn.js ã®åˆæœŸåŒ–
                $('.letterBook').turn({
                    // turn.js ã®è¨­å®šã‹ã‚‰ç›¸å¯¾ã‚µã‚¤ã‚ºæŒ‡å®šã‚’å‰Šé™¤ã—ã€è¨ˆç®—ã—ãŸãƒ”ã‚¯ã‚»ãƒ«å€¤ã‚’æ¸¡ã™
                    width: initialSize.width, 
                    height: initialSize.height, 
                    elevation: 50,
                    gradients: true,
                    autoCenter: true 
                });
            // 1. åˆæœŸãƒ­ãƒ¼ãƒ‰æ™‚ã®ä¸­å¤®å¯„ã›è£œæ­£ï¼ˆtranslate(-75%, -50%) ã®é©ç”¨ï¼‰
                // turn.js ã®åˆæœŸåŒ–å¾Œã«ä¸€åº¦ã ã‘å®Ÿè¡Œã•ã‚Œã‚‹
                $('.letterBook').css({
                    'position': 'fixed',
                    'top': '50%',
                    'left': '50%',
                    // åˆæœŸãƒ­ãƒ¼ãƒ‰æ™‚ã®ã¿å·¦ã«å¯„ã›ã‚‹ (-50% + 25% = -75%)
                    'transform': 'translate(-75%, -50%)',
                    'margin': '0'
                });


                // 2. ãƒšãƒ¼ã‚¸ãƒ•ãƒªãƒƒãƒ—ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Œäº†ã—ãŸéš›ã®ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†
                $('.letterBook').bind('turned', function(event, page, view) {
                    // ãƒšãƒ¼ã‚¸ãƒ•ãƒªãƒƒãƒ—ãŒå®Œäº†ã—ãŸã‚‰ã€æ¨™æº–ã®ä¸­å¤®å¯„ã› (-50%) ã«æˆ»ã™
                    // ã“ã‚Œã«ã‚ˆã‚Šã€æœ¬ã¯ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®ä¸­å¿ƒã«é…ç½®ã•ã‚Œã‚‹
                    $(this).css({
                        'transform': 'translate(-50%, -50%)'
                    });
                });
                
                // 3. (ä»»æ„) ãƒšãƒ¼ã‚¸ã‚ãã‚Šä¸­ã« transform ãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œã‚‹ã®ã‚’é˜²ããŸã‚ã€
                //    ã‚ãã‚Šé–‹å§‹æ™‚ã«ã‚‚æ¨™æº–ã®ä¸­å¤®å¯„ã›ã‚’è¨­å®šã—ã¦ãŠã
                $('.letterBook').bind('turning', function(event, page, view) {
                    $(this).css({
                        'transform': 'translate(-50%, -50%)'
                    });
                });
                // 4. ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚µã‚¤ã‚ºå¤‰æ›´æ™‚ã«ãƒªã‚µã‚¤ã‚ºæ©Ÿèƒ½ã‚’å‘¼ã³å‡ºã™
                $(window).bind('resize', function(){
                    const newSize = calculateBookSize();
                    
                    // turn.js ã®ã‚µã‚¤ã‚ºã‚’ç›´æ¥ãƒ”ã‚¯ã‚»ãƒ«å€¤ã§å†è¨­å®šã—ã€ãƒªã‚µã‚¤ã‚ºå‡¦ç†ã‚’å¼·åˆ¶å®Ÿè¡Œ
                    $('.letterBook').turn('size', newSize.width, newSize.height);
                    
                    // turn('resize') ã¯ä¸è¦ã€‚CSS ã® transform ã‚’å†é©ç”¨
                    $('.letterBook').css({
                        'transform': 'translate(-50%, -50%)' // turnå®Œäº†å¾Œã¨åŒã˜æ¨™æº–ä½ç½®ã«æˆ»ã™
                    });

                }).trigger('resize');
            }

            // Load the HTML4 version if there's not CSS transform

            yepnope({
                test : Modernizr.csstransforms,
                yep: ['../../js/lib/turn.js'],
                nope: ['../../js/lib/turn.html4.min.js'],
                both: ['../../css/notebook.css'],
                complete: loadApp
            });

            </script>

        </main>
        <!--mainã“ã“ã¾ã§-->

        <!--footerã“ã“ã‹ã‚‰-->
        <footer>
            
            <div class="footer-links">
                <a href="../message/index.html">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</a>|
                <a href="../illust/index.html">ã‚¤ãƒ©ã‚¹ãƒˆ</a>|
                <a href="../information/index.html">ã‚¤ãƒ³ãƒ•ã‚©</a>|
                <a href="../../index.html">TOP</a>
            </div>
            
            <div class="footer-social">
            <a href="https://x.com/kannkikaku?s=21&t=5o0lw-318r4fDGVlBy44OQ" target="_blank" rel="noopener">
                <img src="../../images/X.png" alt="Xã‚¢ã‚«ã‚¦ãƒ³ãƒˆ" class="x-icon">
            </a>
            </div>

            <div class="footer-copy">
                Â© è…å¶å’Œèª•ç”Ÿæ—¥ä¼ç”» 2025 some rights reserved.
            </div>

        </footer>
        <!--footerã“ã“ã¾ã§-->
    </div>

    <div class="bottom-nav">
        <a href="../message/index.html">
            <img src="../../images/message.png" alt="ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸">
            <span>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</span>
        </a>
        <a href="../illust/index.html">
            <img src="../../images/illust.png" alt="ã‚¤ãƒ©ã‚¹ãƒˆ">
            <span>ã‚¤ãƒ©ã‚¹ãƒˆ</span>
        </a>
        <a href="../information/index.html">
            <img src="../../images/information.png" alt="ã‚¤ãƒ³ãƒ•ã‚©">
            <span>ã‚¤ãƒ³ãƒ•ã‚©</span>
        </a>
        <a href="../../index.html">
            <img src="../../images/home.png" alt="TOPã«æˆ»ã‚‹">
            <span>TOP</span>
        </a>
    </div>

    <script src="../../js/transition.js"></script>
</body>
</html>